<!--Args:
    * `config`, a configuration object.
 -->
<div class="bg-gray-900 border-gray-700 border rounded-md p-4">
    <!-- Desktop view: Grid layout -->
    <div class="hidden lg:grid grid-cols-12 gap-6 text-sm">
        <!-- ID and Model columns take less space -->
        <div class="col-span-1">
            <span class="text-gray-400">ID</span>
            <p class="font-medium">{{ config.pk }}</p>
        </div>
        <div class="col-span-1">
            <span class="text-gray-400">Model</span>
            <p>{{ config.model }}</p>
        </div>
        <div class="col-span-2">
            <span class="text-gray-400">Submitted by</span>
            <p class="font-medium break-words">{{ config.author.username|truncatechars:16 }}</p>
        </div>
        <div class="col-span-3">
            <span class="text-gray-400">Submitted</span>
            <p>{{ config.submit_time|date:"Y-m-d H:i"|default:"Not submitted" }}</p>
        </div>
        <div class="col-span-2">
            <span class="text-gray-400">Uplinked by</span>
            {% if not config.uplinked %}
                <p>-</p>
            {% else %}
                <p class="font-medium break-words">{{ config.uplinked_by.username|truncatechars:16 }}</p>
            {% endif %}
        </div>
        <div class="col-span-3">
            <span class="text-gray-400">Uplinked</span>
            {% if not config.uplinked %}
                <p>-</p>
            {% else %}
                <p class="text-green-400 font-bold">{{ config.uplink_time|date:"Y-m-d H:i" }}</p>
            {% endif %}
        </div>
    </div>

    <!-- Mobile view: Flex column layout -->
    <div class="lg:hidden space-y-3">
        <!-- Header with ID and Model -->
        <div class="flex justify-between items-center">
            <div>
                <span class="text-gray-400">ID</span>
                <span class="font-medium ml-1">{{ config.pk }}</span>
            </div>
            <div>
                <span class="text-gray-400">Model</span>
                <span class="ml-1">{{ config.model }}</span>
            </div>
        </div>

        <!-- Author and submission info -->
        <div class="flex flex-col text-sm">
            <div class="flex justify-between items-center pb-1">
                <span class="text-gray-400">Submitted by:</span>
                <span class="font-medium">{{ config.author.username|truncatechars:16 }}</span>
            </div>
            <div class="flex justify-between items-center">
                <span class="text-gray-400">Submitted:</span>
                <span>{{ config.submit_time|date:"Y-m-d H:i"|default:"Not submitted" }}</span>
            </div>
        </div>

        <!-- Uplink info -->
        <div class="flex flex-col text-sm">
            <div class="flex justify-between items-center pb-1">
                <span class="text-gray-400">Uplinked by:</span>
                {% if not config.uplinked %}
                    <span class="font-medium">-</span>
                {% else %}
                    <span class="text-green-400 font-bold">{{ config.uplinked_by.username|truncatechars:16 }}</span>
                {% endif %}
            </div>
            <div class="flex justify-between items-center">
                <span class="text-gray-400">Uplinked:</span>
                {% if not config.uplinked %}
                    <span class="font-medium">-</span>
                {% else %}
                    <span class="text-green-400 font-bold">{{ config.uplink_time|date:"Y-m-d H:i" }}</span>
                {% endif %}
            </div>
        </div>
    </div>

    <!-- Actions section - same for both mobile and desktop -->
    <div class="mt-3 pt-3 border-t border-gray-700 flex flex-col md:flex-row md:justify-between gap-3">
        <div class="text-sm">
            {% if not config.uplinked %}
                <a href="{% url 'configs:commit' config.id %}"
                   class="flex items-center text-blue-400 hover:text-orange-500 duration-300 py-1">
                    <i class="bi bi-clock mr-2"></i>
                    Commit uplink time
                </a>
            {% endif %}
        </div>

        <!-- Download buttons -->
        <div class="text-sm flex gap-4 sm:gap-3">
            <a href="{% url 'configs:download' config.id 'zip' %}"
               class="flex items-center text-blue-400 hover:text-blue-300 duration-300 py-1">
                <i class="bi bi-box-arrow-down mr-2"></i>
                Download ZIP
            </a>
            <a href="{% url 'configs:download' config.id 'tar' %}"
               class="flex items-center text-blue-400 hover:text-blue-300 duration-300 py-1">
                <i class="bi bi-box-arrow-down mr-2"></i>
                Download TAR
            </a>
        </div>
    </div>
</div>